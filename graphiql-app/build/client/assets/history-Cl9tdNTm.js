import{d as p,r as _,j as s}from"./index-D1bDiMWs.js";import{a as c}from"./react-redux-Dc_Wvlqi.js";import{u as B}from"./useAuth-hook-DPAVUKa9.js";import{u as y,B as l}from"./button-Bu6TjWke.js";import{L as x}from"./components-BWRrkU_f.js";import"./auth-context-D9gALCU0.js";const L="_historyBlock_137up_1",g="_title_137up_12",j="_buttonBlock_137up_16",f="_resultBlock_137up_21",N="_method_137up_26",H="_linksBlock_137up_30",R="_historyLink_137up_35",e={historyBlock:L,title:g,buttonBlock:j,resultBlock:f,method:N,linksBlock:H,historyLink:R};function T(){const{t:o}=y(),{user:i,loading:n}=B(),r=p();_.useEffect(()=>{n||r(i?"/history":"/")},[i,n,r]);const h=c(t=>t.restLinks.restLinks),u=c(t=>t.graphiQLLinks.graphiQLLinks),a=[...h,...u].sort((t,m)=>{const d=new Date(t.data).getTime(),k=new Date(m.data).getTime();return d-k});return s.jsx("div",{className:e.historyBlock,children:a.length===0?s.jsxs(s.Fragment,{children:[s.jsxs("h2",{className:e.title,children:[o("NoHistory")," "]}),s.jsxs("div",{className:e.buttonBlock,children:[" ",s.jsx(l,{btnType:"button",to:"/REST/GET",children:o("RESTClient")}),s.jsx(l,{btnType:"button",to:"/GRAPHIQL",children:o("GraphiQLClient")})]})]}):s.jsxs(s.Fragment,{children:[" ",s.jsx("h2",{className:e.title,children:o("HistoryRequests")}),s.jsx("div",{className:e.linksBlock,children:a.map(t=>s.jsxs("div",{className:e.resultBlock,children:[s.jsx("p",{className:e.method,children:t.requestData.method},t.requestData.method),s.jsx(x,{to:t.requestData.method!=="GRAPHIQL"?`/REST/${t.urlPage}`:`/GRAPHIQL/${t.urlPage}`,className:e.historyLink,children:t.requestData.url},t.urlPage+Math.random())]},t.requestData.method+t.urlPage+Math.random()))})]})})}function v(){return s.jsx(T,{})}export{v as default};
